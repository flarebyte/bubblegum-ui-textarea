module Bubblegum.TextArea.Internationalization exposing (..)

{-| Utility to translate some of the text used by the widget

    **generated** with make generate
-}

import Bubblegum.TextArea.IsoLanguage exposing (IsoLanguage(..))
import Tuple exposing (first, second)


pickSingularOrPlural : Int -> ( String, String ) -> String
pickSingularOrPlural howMany singularOrPlural =
    if howMany < 2 then
        first singularOrPlural

    else
        second singularOrPlural

translateWord : IsoLanguage -> Int -> String
translateWord language howMany =
    case language of
    {{#each @root}}
        {{#if Language}}{{! to skip other keys injected by whisker in root}}    
        {{Language}} ->
            pickSingularOrPlural howMany ( "{{Word}}", "{{Word}}" )
        {{/if}}
    {{/each}}

{{#each en}}
translate{{upperCamelCase @key}} : IsoLanguage -> String
translate{{upperCamelCase @key}} language =
    case language of
    {{#each @root}}
        {{#if Language}}{{! to skip other keys injected by whisker in root}}    
        {{Language}} ->
            "{{this}}"
        {{/if}}
    {{/each}}

{{/each}}